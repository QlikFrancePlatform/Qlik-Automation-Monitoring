{"blocks":[{"id":"52C3326D-BB84-47F5-92B9-E25BF6341C26","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"65FA06E8-F251-4E5C-8B50-1318FF1ADD02","inputs":[{"id":"run_mode","value":"manual","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":117,"y":106},{"id":"A79B57C4-B0F9-488D-89DE-20827996B118","type":"VariableBlock","disabled":false,"name":"IncludePersonalApps","displayName":"Variable - IncludePersonalApps","comment":"Configuration (Yes/No) Include personal apps in the scan.","childId":"1FF33B15-4641-4935-A62F-9202B8D50B53","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":140,"y":184,"variableGuid":"C8F39BD2-0516-47CE-BC5B-E8AA5FD384BD","operations":[{"id":"set_value","key":"4DDFCD51-0481-4F62-A0A4-3576C9DB758D","name":"Set value of { variable }","value":"Yes"}]},{"id":"65FA06E8-F251-4E5C-8B50-1318FF1ADD02","type":"VariableBlock","disabled":false,"name":"DaysBack","displayName":"Variable - DaysBack","comment":"Configuration (int)\nThe apps that were not reloaded for 'X' num of days. Where X is a number set in this variable.","childId":"A79B57C4-B0F9-488D-89DE-20827996B118","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":100,"y":340,"variableGuid":"732E81C9-32F7-49D0-9B4A-1063D599E029","operations":[{"id":"set_value","key":"C2518186-B474-492A-B7FB-24F4B865CAE1","name":"Set value of { variable }","value":"10"}]},{"id":"1FF33B15-4641-4935-A62F-9202B8D50B53","type":"VariableBlock","disabled":false,"name":"IncludeNeverReloadedApps","displayName":"Variable - IncludeNeverReloadedApps","comment":"Configuration (Yes/No) Include apps that have never been reloaded, if not created within the \"DaysBack\" range.","childId":"8ABB238C-86A4-43E5-85CB-0AB36063FC4D","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":194,"y":395,"variableGuid":"B076BC42-6E23-4FD2-9256-A9CD9C0B811A","operations":[{"id":"set_value","key":"F16F0710-7FE6-4F1E-BB86-8D0E7A159E23","name":"Set value of { variable }","value":"Yes"}]},{"id":"D53FFD2B-3149-483E-A750-156227E80CE9","type":"IfElseBlock","disabled":false,"name":"condition7","displayName":"Condition 7","comment":"If personal apps are not to be included, filter them out of the apps list.","childId":"21BFF0DA-9804-4A61-BD97-D0C61EF4BC56","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.IncludePersonalApps}","input2":"No","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":260,"y":639,"childTrueId":"9B80CF7E-D222-4D65-996F-4FEFCF84E01D","childFalseId":null},{"id":"9B80CF7E-D222-4D65-996F-4FEFCF84E01D","type":"FilterListBlock","disabled":false,"name":"filterList","displayName":"Filter List","comment":"Filter personal apps out of the apps list.","childId":"CBBC6F84-9054-465C-90F0-62C1AB8F2F5A","inputs":[{"id":"list","value":"{ $.AppsObject }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"resourceAttributes.spaceId","input2":null,"operator":"notEmpty"}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":342,"y":791,"loopBlockId":null},{"id":"CBBC6F84-9054-465C-90F0-62C1AB8F2F5A","type":"VariableBlock","disabled":false,"name":"AppsObject","displayName":"Variable - AppsObject","comment":"Store the filtered list to the apps list object.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":415,"y":890,"variableGuid":"E191209E-CAA7-473A-B167-BC7BFB4C1D83","operations":[{"id":"set","key":"C4B1D0E0-C534-4BE4-977E-0E30119A7669","name":"Set { variable } equal to object","value":"{ $.filterList }"}]},{"id":"72F637AB-BF70-4451-8256-2C2D189621F1","type":"VariableBlock","disabled":false,"name":"AppsObject","displayName":"Variable - AppsObject","comment":"Store that list to a variable. This allows the list to be filtered conditionally.","childId":"D53FFD2B-3149-483E-A750-156227E80CE9","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":100,"y":3025,"variableGuid":"E191209E-CAA7-473A-B167-BC7BFB4C1D83","operations":[{"id":"set","key":"9AD994A8-7AFD-4239-92A4-076302D10128","name":"Set { variable } equal to object","value":"{$.listItems}"}]},{"id":"A630D905-06F3-45FF-B231-30DDEB0360F2","type":"ForEachBlock","disabled":false,"name":"loop","displayName":"Loop","comment":"For each app.","childId":"88D2EA2D-D0AC-4520-A555-288FE631D5B4","inputs":[{"id":"input","value":"{ $.AppsObject }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":168,"y":1152,"loopBlockId":"CDE05B03-8317-4E48-9C33-F3BF1A7F320D"},{"id":"AB534324-C6A2-45B2-8149-B2614DC4604B","type":"IfElseBlock","disabled":false,"name":"condition10","displayName":"Condition 10","comment":"Are apps that were never reloaded set to be captured? AND Was the app created before the number of days back from now?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.IncludeNeverReloadedApps}","input2":"Yes","operator":"="},{"input1":"{date: { $.loop.item.createdAt},'U'}","input2":"{$.DaysBackTimestamp}","operator":"<"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":434,"y":1317,"childTrueId":"A7FB52C3-3E0F-47A8-AC19-D9A591319D3C","childFalseId":null},{"id":"1C37E036-75FE-4A57-BB22-DFE786C2FDB5","type":"IfElseBlock","disabled":false,"name":"condition9","displayName":"Condition 9","comment":"Was the app never reloaded?","childId":"3834A3CE-2C5E-4242-B426-5CC436506078","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop.item.resourceAttributes.lastReloadTime}","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":220,"y":3991,"childTrueId":"AB534324-C6A2-45B2-8149-B2614DC4604B","childFalseId":"C58A232E-E927-434B-8270-AA006317939C"},{"id":"A7FB52C3-3E0F-47A8-AC19-D9A591319D3C","type":"VariableBlock","disabled":false,"name":"OutputListObject","displayName":"Variable - OutputListObject","comment":"Store the app object into a new temporary object, including a new attribute \"LastReloadedDaysAgo\".","childId":"2A1DCFA9-FDB8-4CED-8019-5AEA2BA45413","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":575,"y":4109,"variableGuid":"0BC297B9-2F79-4957-8A78-4F37F7FEDD6F","operations":[{"id":"set","key":"6590069D-7CC3-48B7-A814-9073D261D972","name":"Set { variable } equal to object","value":"{object: '{\"LastReloadedDaysAgo\":\"never\"}'}"},{"id":"merge","key":"01EC9998-1A76-4945-884F-142FDEAA90F0","name":"Merge other object into { variable }","value":null,"object":"{ $.loop.item }"}]},{"id":"AF5A7961-AAA8-4390-95E5-3570CBE09E3A","type":"VariableBlock","disabled":false,"name":"OutputList","displayName":"Variable - OutputList","comment":"Add the app to the array (if any) that is currently set in the dictionary.","childId":"E6F03E52-D8A6-47FF-B2BB-94E4A2125AC1","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":460,"y":4476,"variableGuid":"4BA94EEA-C3F9-4290-99F0-D440808F1F74","operations":[{"id":"empty","key":"2DA77128-3834-402B-9B0C-31AD6156F5DE","name":"Empty { variable }","value":null},{"id":"add_item","key":"31A6FE42-FA18-45A4-9546-E73F4F409D2B","name":"Add item to { variable }","value":"{ $.OutputListObject }"},{"id":"merge","key":"051273B6-C853-49E0-9D34-C1206A825472","name":"Merge other list into { variable }","value":"{ $.UserApps.{$.UserIdHash}}"}]},{"id":"836B1919-AB72-4C1D-8074-674B842E30AB","type":"VariableBlock","disabled":false,"name":"OutputListObject","displayName":"Variable - OutputListObject","comment":"Store the app object into a new temporary object, including a new attribute \"LastReloadedDaysAgo\".","childId":"A1996CDB-28C1-4969-85B4-22EB3F5556B9","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":492,"y":1931,"variableGuid":"0BC297B9-2F79-4957-8A78-4F37F7FEDD6F","operations":[{"id":"set","key":"6590069D-7CC3-48B7-A814-9073D261D972","name":"Set { variable } equal to object","value":"{object: '{\"LastReloadedDaysAgo\":\"{round: {divide: {subtract: {$.Now}, {date: { $.loop.item.resourceAttributes.lastReloadTime},'U'}},86400}}\"}'}"},{"id":"merge","key":"01EC9998-1A76-4945-884F-142FDEAA90F0","name":"Merge other object into { variable }","value":null,"object":"{ $.loop.item }"}]},{"id":"C58A232E-E927-434B-8270-AA006317939C","type":"IfElseBlock","disabled":false,"name":"condition12","displayName":"Condition 12","comment":"Was the app last reloaded before the number of days back from now?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{date: { $.loop.item.resourceAttributes.lastReloadTime},'U'}","input2":"{$.DaysBackTimestamp}","operator":"<"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":340,"y":2186,"childTrueId":"836B1919-AB72-4C1D-8074-674B842E30AB","childFalseId":null},{"id":"3289A96A-319D-478A-81D5-BF8F4D32FFA3","type":"VariableBlock","disabled":false,"name":"DaysBackTimestamp","displayName":"Variable - DaysBackTimestamp","comment":"Subtract the number of days back from the current timestamp and store it.","childId":"A630D905-06F3-45FF-B231-30DDEB0360F2","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":100,"y":1435,"variableGuid":"D46CC47A-1786-4995-8E9E-C7347C4B51B7","operations":[{"id":"set_value","key":"9B3E66B0-D0E9-4AD6-8F2F-DF2FA89A3190","name":"Set value of { variable }","value":"{date: {subtract: {date: {$.Now},'U'},{multiply: {$.DaysBack},86400}},'U'}"}]},{"id":"21BFF0DA-9804-4A61-BD97-D0C61EF4BC56","type":"VariableBlock","disabled":false,"name":"Now","displayName":"Variable - Now","comment":"Get and store the current timestamp.","childId":"3289A96A-319D-478A-81D5-BF8F4D32FFA3","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":163,"y":1167,"variableGuid":"68A522FF-23A6-4877-8643-5065E23B57BD","operations":[{"id":"set_value","key":"703CD56C-C992-40B1-A725-29010E12FE56","name":"Set value of { variable }","value":"{date: 'now','U'}"}]},{"id":"4513EE07-F597-4F08-AAD5-F1EF11CDB110","type":"IfElseBlock","disabled":false,"name":"condition","displayName":"Condition","comment":"Is the \"DaysBack\" variable not greater than or equal to 1?","childId":"BA359742-6259-47EB-9323-EFEA8A33940E","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.DaysBack}","input2":"1","operator":"<"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":100,"y":700,"childTrueId":"9D6E4DCA-BFDD-45D4-9DDC-39DBFDC89F02","childFalseId":"73A537EF-4F30-484C-AA2F-AC710652EBB4"},{"id":"9D6E4DCA-BFDD-45D4-9DDC-39DBFDC89F02","type":"ErrorBlock","disabled":false,"name":"error","displayName":"Error","comment":"Alert the user and halt the automation.","childId":null,"inputs":[{"id":"message","value":"Variable \"DaysBack\" must be a number greater than or equal to 1. Currently, the value is set to '{$.DaysBack}'.","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":188,"y":667},{"id":"BA359742-6259-47EB-9323-EFEA8A33940E","type":"IfElseBlock","disabled":false,"name":"condition2","displayName":"Condition 2","comment":"Is the \"IncludePersonalApps\" variable not set to either 'Yes' or 'No'?","childId":"8F02C97E-2DDF-4984-8E33-A971D2102AFB","inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{explode: 'Yes,No', ','}","input2":"{$.IncludePersonalApps}","operator":"notInList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":100,"y":955,"childTrueId":"27221512-FE28-4159-AD20-99836A0149D6","childFalseId":null},{"id":"27221512-FE28-4159-AD20-99836A0149D6","type":"ErrorBlock","disabled":false,"name":"error2","displayName":"Error 2","comment":"Alert the user and halt the automation.","childId":null,"inputs":[{"id":"message","value":"The variable \"IncludePersonalApps\" must be set to either 'Yes' or 'No'. Currently, the value is set to '{$.IncludePersonalApps}'.","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":210,"y":913},{"id":"8F02C97E-2DDF-4984-8E33-A971D2102AFB","type":"IfElseBlock","disabled":false,"name":"condition3","displayName":"Condition 3","comment":"Is the \"IncludeNeverReloadedApps\" variable not set to either 'Yes' or 'No'?","childId":"E6CEA024-7BD1-4426-9185-27EB4D890F13","inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{explode: 'Yes,No', ','}","input2":"{$.IncludeNeverReloadedApps}","operator":"notInList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":84,"y":1072,"childTrueId":"6B3C4D1C-4039-4015-B3CF-A098589FD811","childFalseId":null},{"id":"6B3C4D1C-4039-4015-B3CF-A098589FD811","type":"ErrorBlock","disabled":false,"name":"error3","displayName":"Error 3","comment":"Alert the user and halt the automation.","childId":null,"inputs":[{"id":"message","value":"The variable \"IncludeNeverReloadedApps\" must be set to either 'Yes' or 'No'. Currently, the value is set to '{$.IncludeNeverReloadedApps}'.","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":210,"y":913},{"id":"73A537EF-4F30-484C-AA2F-AC710652EBB4","type":"VariableBlock","disabled":false,"name":"DaysBack","displayName":"Variable - DaysBack","comment":"Round the variable to the nearest integer, if a float was input.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":222,"y":954,"variableGuid":"732E81C9-32F7-49D0-9B4A-1063D599E029","operations":[{"id":"set_value","key":"CE35695C-41A0-497F-BC3F-B9B985BBC900","name":"Set value of { variable }","value":"{round: {$.DaysBack}}"}]},{"id":"E6F03E52-D8A6-47FF-B2BB-94E4A2125AC1","type":"VariableBlock","disabled":false,"name":"UserApps","displayName":"Variable - UserApps","comment":"Set the array to the new value of the owner in the dictionary.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":4636,"variableGuid":"CA577A29-CD6D-4B5D-A6D9-C8C5192088DE","operations":[{"id":"set_key_value","key":"5146439C-C275-46B4-846E-71C892926A84","name":"Set key/values of { variable }","value":[{"key":"{hash: { $.loop.item.resourceAttributes.ownerId }}","value":"{ $.OutputList }"}]}]},{"id":"2A1DCFA9-FDB8-4CED-8019-5AEA2BA45413","type":"VariableBlock","disabled":false,"name":"Store","displayName":"Variable - Store","comment":"Set the boolean to store this app.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":499,"y":3238,"variableGuid":"78398C56-D1A0-4CF3-97ED-0C389BA86079","operations":[{"id":"set_value","key":"02FDDFC8-E01A-4E87-A94D-27C030EE5DDC","name":"Set value of { variable }","value":"1"}]},{"id":"CDC056B1-2ED5-4B64-94B8-FA585F6E8C08","type":"VariableBlock","disabled":false,"name":"Store","displayName":"Variable - Store","comment":"Set a boolean flag to indicate whether the current app should be stored or not, pending  it meets the below criteria.","childId":"1C37E036-75FE-4A57-BB22-DFE786C2FDB5","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":346,"y":3860,"variableGuid":"78398C56-D1A0-4CF3-97ED-0C389BA86079","operations":[{"id":"set_value","key":"BE1E4622-C4A9-4E21-9E59-427B4B3EF527","name":"Set value of { variable }","value":"0"}]},{"id":"A1996CDB-28C1-4969-85B4-22EB3F5556B9","type":"VariableBlock","disabled":false,"name":"Store","displayName":"Variable - Store","comment":"Set the boolean to store this app.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":449,"y":3810,"variableGuid":"78398C56-D1A0-4CF3-97ED-0C389BA86079","operations":[{"id":"set_value","key":"9349CFB2-6CDF-4DEC-97E6-17BD26E7BE3A","name":"Set value of { variable }","value":"1"}]},{"id":"3834A3CE-2C5E-4242-B426-5CC436506078","type":"IfElseBlock","disabled":false,"name":"condition13","displayName":"Condition 13","comment":"If the app should be stored, store it.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.Store }","input2":"1","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":231,"y":3973,"childTrueId":"C06143EB-8E0D-4772-92DC-9298136B69BA","childFalseId":null},{"id":"15072FE0-2867-4AB7-AB9D-5EDF98CAD5F3","type":"ForEachBlock","disabled":false,"name":"loop2","displayName":"Loop 2","comment":"For each user in the dictionary.","childId":"B10D8C17-7755-4E54-A343-B0AB2F098F7D","inputs":[{"id":"input","value":"{ $.UserApps }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":117,"y":7767,"loopBlockId":"0EE97B38-9780-43E2-80DC-A1971C36D7EB"},{"id":"0EE97B38-9780-43E2-80DC-A1971C36D7EB","type":"LookupItemBlock","disabled":false,"name":"lookupItemInList","displayName":"Lookup Item In List","comment":"Lookup that user by the hashed Id.","childId":"6B56C717-9FD6-436A-95D0-A5F28CE246EB","inputs":[{"id":"list","value":"{ $.Users }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"id","input2":"{ $.loop2.index }","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":220,"y":5730},{"id":"1666D76B-0354-4623-A98B-8DB41ACE8D09","type":"VariableBlock","disabled":false,"name":"UserEmail","displayName":"Variable - UserEmail","comment":"Store the user email.","childId":"369DAAF6-A22E-4E2C-95E5-718AAC86695F","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":299,"y":4909,"variableGuid":"382CB0F2-59E2-4F48-AC3F-87342C347998","operations":[{"id":"set_value","key":"B5C878EC-886E-4D64-84E8-71425901412D","name":"Set value of { variable }","value":"{ $.lookupItemInList.email }"}]},{"id":"369DAAF6-A22E-4E2C-95E5-718AAC86695F","type":"IfElseBlock","disabled":false,"name":"condition16","displayName":"Condition 16","comment":"If the user has an email value.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{ $.UserEmail }","input2":null,"operator":"notEmpty"},{"input1":"{$.DebugModeOn}","input2":"Yes","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":255,"y":5852,"childTrueId":"FC23E0BB-A24A-47A4-93C2-DADD7B442BF5","childFalseId":"28FCC516-24E5-43C5-BA30-4D7315CF8D68"},{"id":"BD000058-0E9A-48C8-8545-0DB039334291","type":"VariableBlock","disabled":false,"name":"EmailBody","displayName":"Variable - EmailBody","comment":"Add the data table and email footer HTML.","childId":"805B24F2-3EA9-45D6-AD0E-9E8C274A433C","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":341,"y":5152,"variableGuid":"125E275A-6111-4170-A7C9-70A0401510D6","operations":[{"id":"append","key":"A8AA8B59-ED90-47F2-831E-59C707BF7B39","name":"Append to { variable }","value":"{ $.EmailReloadedAppsTable }"},{"id":"append","key":"8342EEE2-DB19-4750-9A79-3083F3462161","name":"Append to { variable }","value":"<br>"},{"id":"append","key":"E333D268-CF3E-44B4-AAB1-E6781EB61776","name":"Append to { variable }","value":"<div style=\"text-align: center;\"><img src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAAgAEkDAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAABggAAQIFBwQJ/8QAOhAAAQIFAwIDAwgLAQAAAAAAAQIDBAUGBxEACCESMRMiQRRRdhUWFyM3UnKzCTIzNDZTVmFxk7HT/8QAGwEBAAMBAQEBAAAAAAAAAAAAAAECBQcEBgP/xAAqEQACAQMCBQMEAwAAAAAAAAAAAQIDBBEFMQYSEyFBUXGRFCJhsYGhwf/aAAwDAQACEQMRAD8A+gl976yOydPtRLsGuaz2YkolkqZVhbyshJWogEpbBUkE4JJUlI5PH43FboQ5sZMLiHW1oVn9TyOcm0kl6vbL8L9vsjkMvtvvBu40mf1ldb6PoWJHWxLJYhaHmUnsFJbUlQ/wt1Sh6gdteNUrqt905cp8jS0rirW117u5+nT2jHKa98NP5k364MZhQW8OzLKqgpS5guNL4X6yJlkxQtyIdQOT0pcKlnj0bdCiewPbR07qh90ZcyK1dN4q0Fde2uPqIreMstv2zl/Es/hnZLF3ypy+FNOTSWsqgJrL1BmaSx1WXIZw9iDx1IVg4VgdiCAQdeq3uI3EcrfyfW8O8Q2/EFu6lNcs49pRe6f+p+GAm6S4ta0PWto5bSk/fl0NUFRexzJttKCIlnxoZPQrqBwMLWOMd9epLszfYW3zlW4CZTGk12Snstl8KxHKVPExQRlxrKOgnrSSUAB3qSnCjlOM+kLHkME921xK0oB+3SaPn78sE4qJEHHBpKD47JKMoPUDxye2NSlkMYXVSSaAmgFHtnL0Xh3n17W8+BiIS3ATKpWws5Sy8FLaCgPxNxK/xLB9Bqz2KtKW43GqliaAVOp5ezaDefTM5kKPZpZcaFchplDN+VC4kkpKgO3LgYWT3yV+/WdNdG6TjtI5pd01ofFtGtQ7QuE1Jfnb98r98+pnvP8AtDsV8Vj8+E1px2Z0phjubuvW1tJ9bWBpGYswrNST9MBMQ5Dod8RkrZGAVA9JwtXI550SyGB++f8AebUfFbf/AFvSIYa393KQ1uIpm3lvpaamuJNsNQUrYSXEwqlDyrfCec48wRwSOSUp5MJZDYd2hlV05bSrb136phpvP4rDjrMJCtMsQQx+ySUJBcV95R4zwkYGVHjwSHGoAo1tJgzZnedXlF1Cv2WCuP0zSVRDnlQ++tanUoBPHKnIlse9SAB3GrPuiPI3Oqkk0AqtTx7V3d59MyWQqERLbcwrkTMohHKURAJJSD24cLCCO+Qv7us6b610lHaJzW7qrW+LaNGh3hbpuT/Pp88q98+he8/7Q7FfFY/PhNacdmdJZe9j+KrL/FifzIfSIZ4f0grMyiZXbmHkzwZmDtQKRCOE4CHilIQrPOMKwdIhmv2UfMqnKpqSk65lcVA3iRFPGPfm7ocei2Seo+zrP9vMvBJWCF9Sk8ISCHG1UkmgOU7gdv8AT19qeYh4iLXKp/KlF6UzZlOVw6+/QrGCpskAkAgggEH0Mp4IaONy+5m8+zTKaerS0v0jwcL9XDzWVqW4++gcAqU0lSjx6raSs9yT31OEx3Ljrh70bzp+QaQtai2sBEEJiJnM1LQ+0j16S4lKhx9xoq9xGjUcdys49SLi/P8AH9nttFa27e2u40TLZfTyayo+pUMrjpnBpbaioR5OQVFLi+tSUqUry9SspIIPVlJzKVKpa1WorMX8nOtI0jUeFdTnC3p9W2q4zJY5o++Wm8Z7+q7rDygp3QW2revK0tLNKSkLkwhadqH2yZuIdbQIdnxYZXWQtQJ4bWcJyeNaaeDo7L3UW2rev6gtdGUhIXJizIaiTGzFaHW0eAz1snrPWoZ4QrgZPGieAybsrbVvcN+3a6NkLkyEmqJEbHFDraPBZBRlZ61DPY8DJ0TwGbXcbt5auvBw1X0dGfIlfyDD0pmjSy2XSg9SWXFDnGf1Vd0k+4kGE8Bo39oavuzMqEK7rW6i5bU0sCW3UsvQ6kTIfzWuhZShfHmQopGeQcHAPHgkMvnBNf6Omv8Ash//AE1AP//Z\"><p>{$.TenantURL}</p></div>"},{"id":"append","key":"CEBE6C04-6838-4C2D-9657-10BFDDD83B18","name":"Append to { variable }","value":"</body>"}]},{"id":"B2E34A7C-1EAA-4491-8E0B-43AD3E07A109","type":"ForEachBlock","disabled":false,"name":"loop3","displayName":"Loop 3","comment":"For each app, sorted by days since the last reload ascending.","childId":"F72CF6D0-0815-4315-B4F0-27C83AB33669","inputs":[{"id":"input","value":"{ sort: $.loop2.item, \"LastReloadedDaysAgo\" }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":386,"y":5128,"loopBlockId":"191A6185-ADFB-4E4C-A727-338A464C2541"},{"id":"B1592FD1-082F-431B-A8DF-6BAE6D050A3C","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Build the data table row.","childId":"FD2E30A0-BA18-46F2-B326-93C208CC83FD","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":460,"y":9638,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"5317CC1C-70E4-4BF0-AA69-FC5D0C5B4A96","name":"Append to { variable }","value":"<tr style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; background: #f4f7f8; border-bottom: 1px solid #FFF; margin-bottom: 5px;\">"}]},{"id":"22895AE2-4DAD-4C11-B5FD-3DAF9E924A8E","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Begin building the data table object, all the way up to where the table data rows begin.","childId":"718C55D2-FFB0-4AC2-9E4C-8E3F6C8DFBD8","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":390,"y":5150,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"empty","key":"55355203-35A6-4172-8B84-B54E9D1964B0","name":"Empty { variable }","value":null},{"id":"append","key":"E0C752EA-9ACC-46ED-A5BD-A9EC05109C5B","name":"Append to { variable }","value":"<table style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; max-width: 1200px; margin: 5px auto;\">"},{"id":"append","key":"BC52B3EF-7B2E-4422-B502-8D9F9522A732","name":"Append to { variable }","value":"<thead style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;\"> <tr style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; background: #f4f7f8; border-bottom: 1px solid #FFF; margin-bottom: 5px;\">"}]},{"id":"FC23E0BB-A24A-47A4-93C2-DADD7B442BF5","type":"VariableBlock","disabled":false,"name":"EmailBody","displayName":"Variable - EmailBody","comment":"Begin building the email body, including setting the body tag, the \"Hello <User>\" opening, as well as the text before the data table.","childId":"22895AE2-4DAD-4C11-B5FD-3DAF9E924A8E","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":7920,"variableGuid":"125E275A-6111-4170-A7C9-70A0401510D6","operations":[{"id":"empty","key":"B91901B7-072E-4933-BB8F-555767D36B07","name":"Empty { variable }","value":null},{"id":"set_value","key":"322A728A-FBA6-425E-A7DD-1D0E04FC9B0F","name":"Set value of { variable }","value":"<body style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; font-family: 'Nunito', sans-serif; color: #384047;\">"},{"id":"append","key":"7DC266E7-B213-480D-9646-C38E08A878F9","name":"Append to { variable }","value":"<p style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; font-size: .9em; font-weight: 400; padding: 10px 0; margin: 5px auto;\">Hello { $.lookupItemInList.name}!</p>"},{"id":"append","key":"D0BA2E82-3A87-40F8-95E5-35B2421F8588","name":"Append to { variable }","value":"<p style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; font-size: .9em; font-weight: 400; padding: 10px 0; margin: 5px auto;\">This is an automated email from your Qlik tenant to inform you that there are {if: {$.IncludePersonalApps} = 'No', 'published ',''}applications that have {if: {$.IncludeNeverReloadedApps} = 'Yes', 'either ',''}not been reloaded {if: {$.IncludeNeverReloadedApps} = 'No', 'again ',''}within the last {$.DaysBack} days{if: {$.IncludeNeverReloadedApps} = 'Yes', ' or were created over {$.DaysBack} days ago and have never been reloaded',''}. If you no longer need these applications, please archive and delete them from the tenant. If you require any of these applications, reloading them will remove them from this list{if: {$.ExcludeTagName} notEmpty , ' or you can tag them individually with the tag \"{$.ExcludeTagName}\"', ''}.</p>"},{"id":"append","key":"07A5011A-EB53-4B56-8E58-4181520679C6","name":"Append to { variable }","value":"<br>"},{"id":"append","key":"A38C8C84-FAEC-452B-8056-38C89D7E3ABC","name":"Append to { variable }","value":"<div style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; font-size: 1.4em; font-weight: 400; padding: 10px 0; margin: 5px auto;\">{count: {$.loop2.item}} Applications Requiring Attention</div>"}]},{"id":"F9F3D941-818A-4A3D-8164-191F77C80963","type":"EndpointBlock","disabled":true,"name":"SendMail","displayName":"Mail - Send Mail","comment":"Email the user.","childId":"443BC724-88F5-45EC-872F-2271BC910680","inputs":[{"id":"442845a0-cd00-11eb-9aa5-b966a68573b7","value":"{if: {$.DebugModeOn} = 'Yes', {$.DebugEmailAddress}, {$.UserEmail}}","type":"string","structure":[]},{"id":"543f08c0-cd00-11eb-b9c6-af8e23cc2439","value":null,"type":"string","structure":[]},{"id":"5cbdb1d0-cd00-11eb-8afd-ddd4ecc002ac","value":null,"type":"string","structure":[]},{"id":"72cad1e0-cd00-11eb-aa1b-3f42c1d22e38","value":"Qlik: Applications Requiring Attention","type":"string","structure":[]},{"id":"79af8c50-cd24-11eb-a019-dfdc9a7f7317","value":"90ff46f0-cd24-11eb-bda1-0f1c7c213bfb","type":"select","displayValue":"html","structure":[]},{"id":"7d225d00-cd00-11eb-8493-055760e8b45a","value":"{$.EmailBody}","type":"longtext","structure":[]},{"id":"bb841f10-3341-11ec-b9a3-9d6de0bb7866","value":null,"type":"custom","structure":[]}],"settings":[{"id":"datasource","value":"8dcb1589-9f43-4465-a56c-e0e7fec36ac5","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":5915,"datasourcetype_guid":"05407a80-ccfd-11eb-b098-7140f6ac27f4","endpoint_guid":"84a79bf0-ccff-11eb-a508-7d415a725ea7","endpoint_role":"create"},{"id":"F72CF6D0-0815-4315-B4F0-27C83AB33669","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Close out the data table HTML.","childId":"BD000058-0E9A-48C8-8545-0DB039334291","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":391,"y":5628,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"3C47EBFE-378F-4594-A96B-BC0B5BB387DD","name":"Append to { variable }","value":"</tbody>"},{"id":"append","key":"982D8DCA-1564-4927-8328-45DD1DBF3B1C","name":"Append to { variable }","value":"<tfoot style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;\"> <tr style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; border-bottom: 1px solid #FFF; margin-bottom: 5px; background: none;\"> <td colspan=\"3\" style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; text-align: left; font-weight: 300; padding: 10px 2px; font-size: 0.8em; font-style: italic; color: #8a97a0;\" align=\"left\">Data is updated weekly.</td> </tr> </tfoot>"},{"id":"append","key":"871AA5F7-2DBC-4646-8339-F99D955249B1","name":"Append to { variable }","value":"</table>"}]},{"id":"303A52AF-8D84-49F3-8849-67401683ED7F","type":"IfElseBlock","disabled":false,"name":"condition15","displayName":"Condition 15","comment":"If the user is one of the owners, store it.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.deduplicateList }","input2":"{hash: { $.listUsers.item.id }}","operator":"inList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":271,"y":6303,"childTrueId":"A56533FE-17EA-4DF6-9297-178D723EE269","childFalseId":null},{"id":"98804BD4-D5F8-42D1-9A84-8195878CF335","type":"VariableBlock","disabled":false,"name":"User","displayName":"Variable - User","comment":"Modify the user object so that the Id is now the hashed value, so that it can be properly mapped to the dictionary.","childId":"66D8E312-C99F-4CF5-B0BC-25A621F21F94","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":368,"y":5066,"variableGuid":"766CA435-CF7A-44F4-B796-7A6E7EA03326","operations":[{"id":"empty","key":"E995888C-FEF1-4803-9989-4DFD2173001F","name":"Empty { variable }","value":null},{"id":"set","key":"A0BCFED6-BB7F-409D-94B3-2B3246387E7B","name":"Set { variable } equal to object","value":"{ $.listUsers.item }"},{"id":"remove_key","key":"18852885-399F-40F4-8923-0775F9D1A261","name":"Remove key/value in { variable }","value":null,"remove_key":"id"},{"id":"set_key_value","key":"8FE3574C-70A3-4997-9123-01B4B67D95D8","name":"Set key/values of { variable }","value":[{"key":"id","value":"{ $.UserIdHash }"}]}]},{"id":"66D8E312-C99F-4CF5-B0BC-25A621F21F94","type":"VariableBlock","disabled":false,"name":"Users","displayName":"Variable - Users","comment":"Add the user to the Users array.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":380,"y":5171,"variableGuid":"ABD099C2-E1FE-43F6-8185-6572FB974090","operations":[{"id":"add_item","key":"FE00E8FE-EBE4-455F-B60F-0621C7999284","name":"Add item to { variable }","value":"{ $.User }"}]},{"id":"B282A684-D24E-4F28-A463-D48BFFB16685","type":"DeduplicateListBlock","disabled":false,"name":"deduplicateList","displayName":"Deduplicate List","comment":"Get the list of distinct User Ids.","childId":"16EE7103-C489-48D3-9656-736FCE034B26","inputs":[{"id":"list","value":"{ $.UserIds }","type":"string","structure":[]},{"id":"key","value":null,"type":"field","structure":[]}],"settings":[{"id":"case_insensitive","value":null,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":145,"y":4807,"loopBlockId":null},{"id":"EA498132-CDC3-4DCA-8DE6-E0F92763C7B7","type":"EndpointBlock","disabled":false,"name":"listSpaces","displayName":"Qlik Cloud Services - List Spaces","comment":"Get all spaces.","childId":"15072FE0-2867-4AB7-AB9D-5EDF98CAD5F3","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":100,"y":5859,"loopBlockId":null,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"B6DFD9D2-0AEB-47E9-BB4B-31CEDCCECC74","type":"IfElseBlock","disabled":false,"name":"condition17","displayName":"Condition 17","comment":"If the app is in a space, get the name.","childId":"4AA895DF-28C4-49E0-9E77-739A9DF17B00","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop3.item.spaceId }","input2":null,"operator":"notEmpty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":522,"y":6469,"childTrueId":"D907A618-2D08-4D3E-B2D3-4602C41779D8","childFalseId":null},{"id":"D907A618-2D08-4D3E-B2D3-4602C41779D8","type":"LookupItemBlock","disabled":false,"name":"lookupItemInList2","displayName":"Lookup in Qlik Cloud Services - List Spaces - Lookup Item In List 2","comment":"Lookup the name by Id.","childId":"0BA0CB6F-EBFF-406B-8669-C41D4F1D2B7F","inputs":[{"id":"list","value":"{ $.listSpaces }","type":"string","structure":[]},{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"id","input2":"{ $.loop3.item.spaceId }","operator":"="}]},"type":"custom","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":588,"y":6631},{"id":"191A6185-ADFB-4E4C-A727-338A464C2541","type":"VariableBlock","disabled":false,"name":"SpaceName","displayName":"Variable - SpaceName","comment":"Set an empty space name, in case the app is a personal space.","childId":"B6DFD9D2-0AEB-47E9-BB4B-31CEDCCECC74","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":477,"y":9301,"variableGuid":"491B1708-1562-4869-ABB4-B19C0E49943E","operations":[{"id":"empty","key":"2AA08FDF-BCD1-408E-A513-D0C97DA6E64E","name":"Empty { variable }","value":null}]},{"id":"0BA0CB6F-EBFF-406B-8669-C41D4F1D2B7F","type":"VariableBlock","disabled":false,"name":"SpaceName","displayName":"Variable - SpaceName","comment":"Set the space name.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":588,"y":6811,"variableGuid":"491B1708-1562-4869-ABB4-B19C0E49943E","operations":[{"id":"set_value","key":"443B8A73-FF9B-4408-9F2E-13EC2DEFDB8A","name":"Set value of { variable }","value":"{ $.lookupItemInList2.name }"}]},{"id":"07F43708-C9A5-4125-8763-B208DD24A96B","type":"VariableBlock","disabled":false,"name":"TenantURL","displayName":"Variable - TenantURL","comment":"Set the base URL of the tenant to build links to assets in the email body.","childId":"EA498132-CDC3-4DCA-8DE6-E0F92763C7B7","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":6868,"variableGuid":"664656C0-9EFE-475F-83BC-66E1640DA91A","operations":[{"id":"set_value","key":"3C16C5B4-4ABC-419B-9341-65E000D62308","name":"Set value of { variable }","value":"https://{ $.getCurrentTenantInfo.hostnames[0] }"}]},{"id":"4AA895DF-28C4-49E0-9E77-739A9DF17B00","type":"VariableBlock","disabled":false,"name":"AppURL","displayName":"Variable - AppURL","comment":"Set the URL of the app to the details overview page.","childId":"7AC6A12E-D69B-407F-84FF-0A57283BC657","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":527,"y":7220,"variableGuid":"29FD22E9-F7F8-46B7-A940-74AE70BEB5E5","operations":[{"id":"set_value","key":"32E4284B-66F0-45F2-B6F0-B0B25B9DA1E7","name":"Set value of { variable }","value":"<a href=\"{ $.TenantURL }/item/{ $.loop3.item.id }/details\">link</a>"}]},{"id":"6B56C717-9FD6-436A-95D0-A5F28CE246EB","type":"VariableBlock","disabled":false,"name":"UserName","displayName":"Variable - UserName","comment":"Store the user name.","childId":"1666D76B-0354-4623-A98B-8DB41ACE8D09","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":291,"y":5683,"variableGuid":"48907EB9-D1FA-49B9-BB40-946399083CDE","operations":[{"id":"set_value","key":"0EF722E6-1F47-4C72-878F-35B209B77831","name":"Set value of { variable }","value":"{ $.lookupItemInList.name }"}]},{"id":"88D2EA2D-D0AC-4520-A555-288FE631D5B4","type":"IfElseBlock","disabled":false,"name":"condition14","displayName":"Condition 14","comment":"Check to see if any apps are found that match the criteria set.","childId":"B282A684-D24E-4F28-A463-D48BFFB16685","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.UserApps}","input2":null,"operator":"empty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":157,"y":4438,"childTrueId":"89FBA486-BA15-4F6A-AB1D-25176D060E0D","childFalseId":null},{"id":"89FBA486-BA15-4F6A-AB1D-25176D060E0D","type":"ShowBlock","disabled":false,"name":"output 2","displayName":"Output 2","comment":"If no apps were found, log that and stop the automation.","childId":"E5F76ECA-64E1-42DE-8714-DFCF69D153FC","inputs":[{"id":"input","value":"{object: '{\"message\":\"Halting...\",\"output\":\"No apps match that criteria! Try lowering the number of days back. Halting...\"}'}","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":234,"y":4576},{"id":"E5F76ECA-64E1-42DE-8714-DFCF69D153FC","type":"StopBlock","disabled":false,"name":"stop","displayName":"Stop","comment":"Stop the automation.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":303,"y":4663},{"id":"B948A439-205B-411E-869B-A64670EF3C11","type":"VariableBlock","disabled":false,"name":"DebugModeOn","displayName":"Variable - DebugModeOn","comment":"Configuration (Yes/No) This automation will find the first match for a user with apps meeting the criteria and email \"DebugEmailAddress\".","childId":"072CF653-8BFE-472D-B9F7-774A8770E741","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":166,"y":546,"variableGuid":"55072B1D-B32C-45F7-A101-93217C1E678E","operations":[{"id":"set_value","key":"FACC9991-9D02-4A40-AE31-E5EE022EC92F","name":"Set value of { variable }","value":"No"}]},{"id":"072CF653-8BFE-472D-B9F7-774A8770E741","type":"VariableBlock","disabled":false,"name":"DebugEmailAddress","displayName":"Variable - DebugEmailAddress","comment":"Configuration (email address) The email of the user to send the debug email to, if enabled.","childId":"4513EE07-F597-4F08-AAD5-F1EF11CDB110","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":134,"y":677,"variableGuid":"374F15FD-1149-4A88-AABC-77C609F3C24C","operations":[{"id":"set_value","key":"E49831AF-15D8-4271-8E28-6F1C25C355B3","name":"Set value of { variable }","value":"veg@qlik.com"}]},{"id":"E6CEA024-7BD1-4426-9185-27EB4D890F13","type":"IfElseBlock","disabled":false,"name":"condition4","displayName":"Condition 4","comment":"Is the \"DebugModeOn\" variable not set to either 'Yes' or 'No'?","childId":"E464482D-043D-49AE-BCE7-24F8DAEDE3A1","inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{explode: 'Yes,No', ','}","input2":"{$.DebugModeOn}","operator":"notInList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":100,"y":1890,"childTrueId":"60E98E66-B6A8-435D-B2BF-C63ECF62902A","childFalseId":"873EC4B0-0C36-48AF-8778-1DEE76A46847"},{"id":"60E98E66-B6A8-435D-B2BF-C63ECF62902A","type":"ErrorBlock","disabled":false,"name":"error4","displayName":"Error 4","comment":"Alert the user and halt the automation.","childId":null,"inputs":[{"id":"message","value":"The variable \"DebugMode\" must be set to either 'Yes' or 'No'. Currently, the value is set to '{$.DebugModeOn}'.","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":210,"y":913},{"id":"873EC4B0-0C36-48AF-8778-1DEE76A46847","type":"IfElseBlock","disabled":false,"name":"condition5","displayName":"Condition 5","comment":"Check if debug mode is on.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.DebugModeOn}","input2":"Yes","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":255,"y":2008,"childTrueId":"DE425725-094E-4369-9552-3BDBC5173860","childFalseId":null},{"id":"DE425725-094E-4369-9552-3BDBC5173860","type":"IfElseBlock","disabled":false,"name":"condition6","displayName":"Condition 6","comment":"Is the email address not a valid format?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{isemail: {$.DebugEmailAddress}}","input2":null,"operator":"isFalse"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":385,"y":2128,"childTrueId":"5344531B-D8CE-4664-81E3-F65AFC1C7A6B","childFalseId":"7D7A161D-CA65-4335-A171-A4CC5C1980AB"},{"id":"5344531B-D8CE-4664-81E3-F65AFC1C7A6B","type":"ErrorBlock","disabled":false,"name":"error5","displayName":"Error 5","comment":"Alert the user and halt the automation.","childId":null,"inputs":[{"id":"message","value":"The variable \"DebugEmailAddress\" must be a valid email address. Currently, the value is set to '{$.DebugEmailAddress}'.","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":494,"y":2205},{"id":"443BC724-88F5-45EC-872F-2271BC910680","type":"IfElseBlock","disabled":false,"name":"condition18","displayName":"Condition 18","comment":"If debug mode is on, exit the loop to only send one test email.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.DebugModeOn}","input2":"Yes","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":406,"y":9318,"childTrueId":"6F8B073E-397D-43CD-A162-F2A2750EA0B9","childFalseId":null},{"id":"7D7A161D-CA65-4335-A171-A4CC5C1980AB","type":"ShowBlock","disabled":false,"name":"output","displayName":"Output","comment":"Log that debug mode is on.","childId":null,"inputs":[{"id":"input","value":"---\r\n**NOTE**\r\n#### Debug mode on! This will only send a single email to: { $.DebugEmailAddress }.\n---\n{linebreak}","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":460,"y":2340},{"id":"6F8B073E-397D-43CD-A162-F2A2750EA0B9","type":"ForEachBreakBlock","disabled":false,"name":"exitLoop","displayName":"Exit Loop","comment":"Exit the loop.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":474,"y":9276},{"id":"8ABB238C-86A4-43E5-85CB-0AB36063FC4D","type":"VariableBlock","disabled":false,"name":"ExcludeTagName","displayName":"Variable - ExcludeTagName","comment":"Configuration (string) The name of a tag for which to ignore applications with.","childId":"B948A439-205B-411E-869B-A64670EF3C11","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":204,"y":553,"variableGuid":"AB6D07FD-3E20-4E9B-8FFD-0D2657262CD8","operations":[{"id":"set_value","key":"D7D7965D-225F-40BF-A520-A6DEB017FE07","name":"Set value of { variable }","value":null}]},{"id":"C06143EB-8E0D-4772-92DC-9298136B69BA","type":"VariableBlock","disabled":false,"name":"UserIdHash","displayName":"Variable - UserIdHash","comment":"Hash the App Owner Id, as the value can include underscores and hyphens which don't play well as JSON keys.","childId":"96EEC42D-66FC-4B5E-AB03-6BD8C0C2C45E","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":5156,"variableGuid":"5249C877-D37B-41AF-9677-5301AA8B519B","operations":[{"id":"set_value","key":"68A70C9C-3ABD-420A-BEB3-9C2E61CAA308","name":"Set value of { variable }","value":"{hash: { $.loop.item.resourceAttributes.ownerId }}"}]},{"id":"96EEC42D-66FC-4B5E-AB03-6BD8C0C2C45E","type":"VariableBlock","disabled":false,"name":"UserIds","displayName":"Variable - UserIds","comment":"Add the hashed User Id to a list of all Ids.","childId":"B986C83D-A6E0-4BCE-8618-27FF587B5C13","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":306,"y":3079,"variableGuid":"D8F008A1-F9A9-4D91-8C13-70AB5C33A0B2","operations":[{"id":"add_item","key":"9D93FB05-3EA5-448B-857E-A594067134DA","name":"Add item to { variable }","value":"{ $.UserIdHash }"}]},{"id":"B986C83D-A6E0-4BCE-8618-27FF587B5C13","type":"VariableBlock","disabled":false,"name":"UserApps","displayName":"Variable - UserApps","comment":"Set a new key in the apps dictionary object with the hashed value of the app owner. The goal is to have a dictionary of UserId:[Apps].","childId":"AF5A7961-AAA8-4390-95E5-3570CBE09E3A","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":220,"y":3111,"variableGuid":"CA577A29-CD6D-4B5D-A6D9-C8C5192088DE","operations":[{"id":"merge","key":"B26FC59B-8404-49C6-A36C-6D5904D0470E","name":"Merge other object into { variable }","value":null,"object":"{object: '{\"{$.UserIdHash}\"}'}","conflict":"ignore"}]},{"id":"67598528-A378-4C25-AE6B-6488DE75198B","type":"IfElseBlock","disabled":false,"name":"condition8","displayName":"Condition 8","comment":"If there is a tag for which to exclude an app with, check and ignore it if it has it.","childId":null,"inputs":[{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"{ $.ExcludeTagName }","input2":null,"operator":"empty"},{"input1":"{ $.loop.item.meta.tags[*].name }","input2":"{ $.ExcludeTagName }","operator":"notInList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":367,"y":4131,"childTrueId":"CDC056B1-2ED5-4B64-94B8-FA585F6E8C08","childFalseId":null},{"id":"34F1CF68-9F31-44DD-8472-767B31846EFC","type":"ForEachBlock","disabled":false,"name":"loop4","displayName":"Loop 4","comment":"Loop over each column and add them to the table headers.","childId":"2AB433EE-1D7D-464E-86C2-B861183EAC12","inputs":[{"id":"input","value":"{ $.Columns }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":416,"y":8117,"loopBlockId":"9B540BC4-3287-4250-8FD7-D8B1BFF4E0E1"},{"id":"2AB433EE-1D7D-464E-86C2-B861183EAC12","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Close out the table header and begin the table body.","childId":"B2E34A7C-1EAA-4491-8E0B-43AD3E07A109","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":388,"y":8533,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"AA7EF5E9-B322-41CF-A2C3-DF8F60716D50","name":"Append to { variable }","value":"</tr> </thead>"},{"id":"append","key":"524312FC-623E-490A-B09B-AA3548BDA602","name":"Append to { variable }","value":"<tbody style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;\">"}]},{"id":"805B24F2-3EA9-45D6-AD0E-9E8C274A433C","type":"VariableBlock","disabled":false,"name":"LogOutputList","displayName":"Variable - LogOutputList","comment":"Add to output log.","childId":"0ACD24C6-2C7F-47C7-B858-7E8A1E540C23","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":10431,"variableGuid":"A243C9C9-DB1A-4610-BAA3-75EFAC60486A","operations":[{"id":"add_item","key":"67291B3A-9C24-4D80-9013-625DA8A1265C","name":"Add item to { variable }","value":"{object: '{\"message\":\"Sending an email to\",\"output\":\"{if: {$.DebugModeOn} = 'Yes', {$.DebugEmailAddress}, {$.UserEmail}}\"}'}"}]},{"id":"28FCC516-24E5-43C5-BA30-4D7315CF8D68","type":"VariableBlock","disabled":false,"name":"LogOutputList","displayName":"Variable - LogOutputList","comment":"Add to output log.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":391,"y":10978,"variableGuid":"A243C9C9-DB1A-4610-BAA3-75EFAC60486A","operations":[{"id":"add_item","key":"F9B42DA8-67ED-4FCD-8F01-0560904F5EFC","name":"Add item to { variable }","value":"{object: '{\"message\":\"No email was found for the user with the subject\",\"output\":\"{regexreplace: '{$.lookupItemInList.subject}', '\\\\', '\\\\\\\\'}\"}'}"}]},{"id":"7AC6A12E-D69B-407F-84FF-0A57283BC657","type":"VariableBlock","disabled":false,"name":"Views","displayName":"Variable - Views","comment":"Set views, if empty default to 0.","childId":"B1592FD1-082F-431B-A8DF-6BAE6D050A3C","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":531,"y":9341,"variableGuid":"CC128FA4-ED5A-4878-8C78-280CAC766C23","operations":[{"id":"set_value","key":"301B5EB7-7E26-4149-8A32-CDA1D8F342A3","name":"Set value of { variable }","value":"{if: '{ $.loop3.item.itemViews.total }' notEmpty , { $.loop3.item.itemViews.total }, 0}"}]},{"id":"D2AE2B82-ECD8-471E-A057-4A8ED4B1D3B4","type":"EndpointBlock","disabled":false,"name":"listItems","displayName":"Qlik Cloud Services - List Items","comment":"Get all items.","childId":"72F637AB-BF70-4451-8256-2C2D189621F1","inputs":[{"id":"439c6980-6f70-11eb-84de-efd628b6cc54","value":null,"type":"select","structure":[]},{"id":"1099dd00-107f-11ec-902a-5bf8dc83fa53","value":"17e5fc30-107f-11ec-9b18-dd9ad1848dd7","type":"select","displayValue":"app","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"x":130,"y":2766,"loopBlockId":null,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f041ca70-c7a6-11ea-97f1-314ae0d6795c","endpoint_role":"list"},{"id":"E833C135-D9D5-47D6-88F6-3917833745E2","type":"EndpointBlock","disabled":false,"name":"getCurrentTenantInfo","displayName":"Qlik Cloud Services - Get Current Tenant Info","comment":"","childId":"07F43708-C9A5-4125-8763-B208DD24A96B","inputs":[],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":117,"y":6912,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"55051480-cb86-11ec-b746-892c1d04114e","endpoint_role":"get"},{"id":"16EE7103-C489-48D3-9656-736FCE034B26","type":"ForEachBlock","disabled":false,"name":"loop7","displayName":"Loop over Qlik Cloud Services - List Users - Loop 7","comment":"For each user.","childId":"E833C135-D9D5-47D6-88F6-3917833745E2","inputs":[{"id":"input","value":"{ $.listUsers }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":187,"y":6206,"loopBlockId":"303A52AF-8D84-49F3-8849-67401683ED7F"},{"id":"E464482D-043D-49AE-BCE7-24F8DAEDE3A1","type":"EndpointBlock","disabled":false,"name":"listUsers","displayName":"Qlik Cloud Services - List Users","comment":"Get a list of all users.","childId":"D2AE2B82-ECD8-471E-A057-4A8ED4B1D3B4","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":178,"y":2759,"loopBlockId":"39C944BB-7BD8-4034-831B-BF665D82A55D","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"53ca52b0-6f83-11eb-b06c-c5bdc3525ce4","endpoint_role":"list"},{"id":"39C944BB-7BD8-4034-831B-BF665D82A55D","type":"VariableBlock","disabled":false,"name":"UnHashedUserIds","displayName":"Variable - UnHashedUserIds","comment":"Store a list of all unhashed User Ids.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":272,"y":1925,"variableGuid":"80767392-0FDB-452E-B288-CBE94DC7FBA3","operations":[{"id":"add_item","key":"3C1D2A2C-3FDC-451D-94B6-413356E00C83","name":"Add item to { variable }","value":"{ $.listUsers.item.id }"}]},{"id":"A56533FE-17EA-4DF6-9297-178D723EE269","type":"VariableBlock","disabled":false,"name":"UserIdHash","displayName":"Variable - UserIdHash","comment":"Hash the App Owner Id, as the value can include underscores and hyphens which don't play well as JSON keys.","childId":"98804BD4-D5F8-42D1-9A84-8195878CF335","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":426,"y":6644,"variableGuid":"5249C877-D37B-41AF-9677-5301AA8B519B","operations":[{"id":"set_value","key":"68A70C9C-3ABD-420A-BEB3-9C2E61CAA308","name":"Set value of { variable }","value":"{hash: { $.loop7.item.id }}"}]},{"id":"CDE05B03-8317-4E48-9C33-F3BF1A7F320D","type":"IfElseBlock","disabled":false,"name":"condition11","displayName":"Condition 11","comment":"Is the owner of the app not deleted?","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.UnHashedUserIds}","input2":"{ $.loop.item.resourceAttributes.ownerId }","operator":"inList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"x":291,"y":3968,"childTrueId":"67598528-A378-4C25-AE6B-6488DE75198B","childFalseId":null},{"id":"B9A8EAA9-E4C2-4C15-91CD-E099536EEDAC","type":"ForEachBlock","disabled":false,"name":"loop5","displayName":"Loop 5","comment":"Loop over each column and add the value to the table.","childId":"9FBBDD97-6934-4125-A60D-40562936B288","inputs":[{"id":"input","value":"{ $.Columns }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":477,"y":10156,"loopBlockId":"11E7ADD5-CDB6-4BAD-B223-985214E7CB5B"},{"id":"9FBBDD97-6934-4125-A60D-40562936B288","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Close the table row.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":536,"y":7733,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"EDDAECB7-498D-491E-94D2-14C4BC81729F","name":"Append to { variable }","value":"</tr>"}]},{"id":"718C55D2-FFB0-4AC2-9E4C-8E3F6C8DFBD8","type":"VariableBlock","disabled":false,"name":"Columns","displayName":"Variable - Columns","comment":"Define the column names. (Values are referenced in the \"ColumnContent\" block below.)","childId":"34F1CF68-9F31-44DD-8472-767B31846EFC","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":398,"y":8498,"variableGuid":"3BDD5CC0-CABE-48A9-9DF2-22E6DF10555D","operations":[{"id":"empty","key":"B7266A51-75B4-4E6F-B789-47942911F494","name":"Empty { variable }","value":null},{"id":"add_item","key":"413983B3-FB4E-4A03-87C1-96ABD05F8339","name":"Add item to { variable }","value":"Name"},{"id":"add_item","key":"36A773F0-3880-4C71-BC17-09268FC61880","name":"Add item to { variable }","value":"Space Name"},{"id":"add_item","key":"1E59FC77-26C5-45C8-AB3F-F24E5A10E209","name":"Add item to { variable }","value":"Last Reloaded Days Ago"},{"id":"add_item","key":"85D8925C-D7E7-455F-8DE0-1BD3B92D6B9C","name":"Add item to { variable }","value":"Views Last 28 Days"},{"id":"add_item","key":"B37DDE3A-2BBC-4832-A233-2B1254E50DA5","name":"Add item to { variable }","value":"Link to App"}]},{"id":"9B540BC4-3287-4250-8FD7-D8B1BFF4E0E1","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Add the Column Name to the header.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":527,"y":8723,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"14E0963F-3A4B-4823-87AB-8356312BDE64","name":"Append to { variable }","value":"<th scope=\"col\" style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; text-align: left; padding: 5px; font-weight: 400; background: #009845; color: #FFF;\" align=\"left\">"},{"id":"append","key":"6E9E2B3C-8812-4923-B113-2AB3F1602EA0","name":"Append to { variable }","value":"{$.loop4.item}"},{"id":"append","key":"4CB35487-359F-4E4E-9BD2-7D9B882236D9","name":"Append to { variable }","value":"</th>"}]},{"id":"FD2E30A0-BA18-46F2-B326-93C208CC83FD","type":"VariableBlock","disabled":false,"name":"ColumnContent","displayName":"Variable - ColumnContent","comment":"Column names within this block must match those within the \"Columns\" block above.","childId":"B9A8EAA9-E4C2-4C15-91CD-E099536EEDAC","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":536,"y":9962,"variableGuid":"9D0B973E-3181-4CBA-9D4F-62808D284926","operations":[{"id":"empty","key":"C3AFC89B-07C1-490E-8276-D3394302E117","name":"Empty { variable }","value":null},{"id":"set_key_value","key":"D9B10F05-C325-4BBD-A212-6A49A005B011","name":"Set key/values of { variable }","value":[{"key":"Name","value":"{ $.loop3.item.name }"},{"key":"Space Name","value":"{ $.SpaceName }"},{"key":"Last Reloaded Days Ago","value":"{$.loop3.item.LastReloadedDaysAgo}"},{"key":"Views Last 28 Days","value":"{ $.Views }"},{"key":"Link to App","value":"{ $.AppURL }"}]}]},{"id":"11E7ADD5-CDB6-4BAD-B223-985214E7CB5B","type":"VariableBlock","disabled":false,"name":"EmailReloadedAppsTable","displayName":"Variable - EmailReloadedAppsTable","comment":"Add the table data with the column value.","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":652,"y":10184,"variableGuid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","operations":[{"id":"append","key":"BA74D87F-4AA2-4016-92BF-4204415D9FE9","name":"Append to { variable }","value":"<td scope=\"row\" style=\"-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; text-align: left; padding: 5px; font-weight: 300;\" align=\"left\">"},{"id":"append","key":"F6700A7B-85F3-4425-BDD8-03B2C5603520","name":"Append to { variable }","value":"{$.ColumnContent.'{$.loop5.item}'}"},{"id":"append","key":"9A510630-356E-48AE-A54E-5C7A6EE7F175","name":"Append to { variable }","value":"</td>"}]},{"id":"B10D8C17-7755-4E54-A343-B0AB2F098F7D","type":"ShowBlock","disabled":false,"name":"output3","displayName":"Output 3","comment":"Output Log","childId":null,"inputs":[{"id":"input","value":"{ $.LogOutputList }","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":140,"y":11474},{"id":"0ACD24C6-2C7F-47C7-B858-7E8A1E540C23","type":"EndpointBlock","disabled":false,"name":"sendHtmlMessage","displayName":"Microsoft Teams - Send Html Message","comment":"","childId":"F9F3D941-818A-4A3D-8164-191F77C80963","inputs":[{"id":"bcb8e600-d3ee-11eb-ba9f-dfa3f348c5e5","value":"7264bde2-cd80-4660-8b4d-ef3881321e5e","type":"string","displayValue":"Qlik France Platform","structure":[]},{"id":"bcc940a0-d3ee-11eb-af2d-43ff9170b916","value":"19:9fb1f2036f894a83a36a4d4ebb4a3f9f@thread.skype","type":"string","displayValue":"Platform","structure":[]},{"id":"bcd82fe0-d3ee-11eb-a0c2-2b8aa02accfc","value":"{$.EmailBody}","type":"longtext","structure":[]}],"settings":[{"id":"datasource","value":"7e3bfabf-c52f-4ea9-a639-e6963e4def4c","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-195,"y":10769,"datasourcetype_guid":"0d87af8f-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"bc7b7d80-d3ee-11eb-a0a1-77b7ef364bf9","endpoint_role":"create"}],"variables":[{"guid":"4BA94EEA-C3F9-4290-99F0-D440808F1F74","name":"OutputList","type":"list"},{"guid":"732E81C9-32F7-49D0-9B4A-1063D599E029","name":"DaysBack","type":"number"},{"guid":"C8F39BD2-0516-47CE-BC5B-E8AA5FD384BD","name":"IncludePersonalApps","type":"string"},{"guid":"B076BC42-6E23-4FD2-9256-A9CD9C0B811A","name":"IncludeNeverReloadedApps","type":"string"},{"guid":"E191209E-CAA7-473A-B167-BC7BFB4C1D83","name":"AppsObject","type":"object"},{"guid":"0BC297B9-2F79-4957-8A78-4F37F7FEDD6F","name":"OutputListObject","type":"object"},{"guid":"DFB896D4-08BC-417C-8EDD-0B8D9B737F77","name":"LastReloadedDaysAgo","type":"number"},{"guid":"D46CC47A-1786-4995-8E9E-C7347C4B51B7","name":"DaysBackTimestamp","type":"number"},{"guid":"68A522FF-23A6-4877-8643-5065E23B57BD","name":"Now","type":"number"},{"guid":"CA577A29-CD6D-4B5D-A6D9-C8C5192088DE","name":"UserApps","type":"object"},{"guid":"78398C56-D1A0-4CF3-97ED-0C389BA86079","name":"Store","type":"number"},{"guid":"382CB0F2-59E2-4F48-AC3F-87342C347998","name":"UserEmail","type":"string"},{"guid":"125E275A-6111-4170-A7C9-70A0401510D6","name":"EmailBody","type":"string"},{"guid":"5A8437B9-B720-47D7-BB2E-F7ED3A8351C4","name":"EmailReloadedAppsTable","type":"string"},{"guid":"D8F008A1-F9A9-4D91-8C13-70AB5C33A0B2","name":"UserIds","type":"list"},{"guid":"766CA435-CF7A-44F4-B796-7A6E7EA03326","name":"User","type":"object"},{"guid":"ABD099C2-E1FE-43F6-8185-6572FB974090","name":"Users","type":"list"},{"guid":"5249C877-D37B-41AF-9677-5301AA8B519B","name":"UserIdHash","type":"string"},{"guid":"9887B0E2-64C5-41AF-88FA-5699A2A179BA","name":"EmailNeverReloadedAppsTable","type":"string"},{"guid":"48907EB9-D1FA-49B9-BB40-946399083CDE","name":"UserName","type":"string"},{"guid":"491B1708-1562-4869-ABB4-B19C0E49943E","name":"SpaceName","type":"string"},{"guid":"664656C0-9EFE-475F-83BC-66E1640DA91A","name":"TenantURL","type":"string"},{"guid":"29FD22E9-F7F8-46B7-A940-74AE70BEB5E5","name":"AppURL","type":"string"},{"guid":"55072B1D-B32C-45F7-A101-93217C1E678E","name":"DebugModeOn","type":"string"},{"guid":"374F15FD-1149-4A88-AABC-77C609F3C24C","name":"DebugEmailAddress","type":"string"},{"guid":"AB6D07FD-3E20-4E9B-8FFD-0D2657262CD8","name":"ExcludeTagName","type":"string"},{"guid":"3BDD5CC0-CABE-48A9-9DF2-22E6DF10555D","name":"Columns","type":"list"},{"guid":"A243C9C9-DB1A-4610-BAA3-75EFAC60486A","name":"LogOutputList","type":"list"},{"guid":"CC128FA4-ED5A-4878-8C78-280CAC766C23","name":"Views","type":"number"},{"guid":"80767392-0FDB-452E-B288-CBE94DC7FBA3","name":"UnHashedUserIds","type":"list"},{"guid":"9D0B973E-3181-4CBA-9D4F-62808D284926","name":"ColumnContent","type":"object"}]}