{"blocks":[{"id":"11801F33-7231-4A08-AA63-72C840E41E39","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"B03FC083-DDFF-4184-9E7C-F9E692F71DBD","inputs":[{"id":"run_mode","value":"triggered","type":"select","structure":{}},{"id":"async","value":"no","type":"select","structure":{}},{"id":"","value":null,"type":"custom","structure":{}}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":0},{"id":"B03FC083-DDFF-4184-9E7C-F9E692F71DBD","type":"EndpointBlock","disabled":false,"name":"listApps","displayName":"Qlik Cloud Services - List Apps","comment":"","childId":null,"inputs":[{"id":"8cd8db50-107b-11ec-8082-edc45dd151ef","value":null,"type":"select","structure":[]},{"id":"8ce4fad0-107b-11ec-a6ac-2bd407ad134b","value":"6723bedf33b9a3781461fb58","type":"string","displayValue":"Monitoring (6723bedf33b9a3781461fb58)","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-315,"y":317,"loopBlockId":"8D61A454-3184-4DD4-A4AB-192EBE72046B","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"8cc63340-107b-11ec-ab5d-f9b221ed2dc5","endpoint_role":"list"},{"id":"8D61A454-3184-4DD4-A4AB-192EBE72046B","type":"SnippetBlock","disabled":false,"name":"GetAppInformation","displayName":"Qlik Cloud Services - Get App Information","comment":"","childId":"C6F55ACA-5160-44F0-8446-3472595AD76D","inputs":[{"id":"d3acbdc0-a8d2-11eb-8827-056900eab788","value":"{$.listApps.item.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":120,"y":220,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"d3a8d4f0-a8d2-11eb-a81d-ffabb68491fb"},{"id":"258B2BC5-2357-449C-B9B5-C0FDE05EC4CB","type":"SnippetBlock","disabled":false,"name":"GetLoadScript2","displayName":"Qlik Cloud Services - Get Load Script 2","comment":"Get the app's load script as a string.","childId":"26FAA39F-2557-4559-80C8-B06DE5302C32","inputs":[{"id":"299dd6e0-7535-11eb-a1b1-8108a69d86b2","value":"{$.listApps.item.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":479,"y":249,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"8d2f7da0-5028-11eb-8889-317a6c8ea7fc"},{"id":"26FAA39F-2557-4559-80C8-B06DE5302C32","type":"IfElseBlock","disabled":false,"name":"condition2","displayName":"Condition 2","comment":"Test if id app is not empty","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.listApps.item.id}","input2":null,"operator":"notEmpty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":521,"y":285,"childTrueId":"0679FB60-1ABE-48D5-8DFD-6D177B3E123E","childFalseId":null},{"id":"0679FB60-1ABE-48D5-8DFD-6D177B3E123E","type":"SnippetBlock","disabled":false,"name":"CreateOrUpdateFileContent","displayName":"Git Hub - Create Or Update File Content","comment":"","childId":null,"inputs":[{"id":"70b4a4c0-4074-11ec-a8e6-c1dc761dcfb1","value":"{$.Settings.GitHubUser}","type":"string","structure":[]},{"id":"70b5c000-4074-11ec-969e-792346f99f92","value":"{$.Settings.GitHubRepo}","type":"string","structure":[]},{"id":"70b63220-4074-11ec-b55b-7725e494603a","value":"{$.GetAppInformation.info.attributes.name}.qvs","type":"string","structure":[]},{"id":"b27fff40-4074-11ec-9f16-55d8428ec62c","value":"{$.Settings.GitHubBranch}","type":"string","structure":[]},{"id":"70b75130-4074-11ec-84ab-e102a3b0c185","value":"New version of Qlik Sense app {date: 'now', 'y-m-d H:i'}","type":"string","structure":[]},{"id":"70b84f80-4074-11ec-9358-b5650774d83c","value":"{base64encode: {$.GetLoadScript2.qScript}}","type":"string","structure":[]},{"id":"09cb4810-1675-11ef-b5b9-9d279f1efa08","value":null,"type":"string","structure":[]},{"id":"09cc0110-1675-11ef-ad79-4d7c92bf3de3","value":null,"type":"string","structure":[]}],"settings":[{"id":"datasource","value":"3755ee92-8504-429f-a8eb-42bd0770b542","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-303,"y":302,"datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2","snippet_guid":"70a930c0-4074-11ec-9bb6-b36e27de5d04"},{"id":"4156984A-DD16-4778-BAF1-935F45E03BF7","type":"SnippetBlock","disabled":false,"name":"exportAppToBase64EncodedFile","displayName":"Qlik Cloud Services - Export App To Base 64 Encoded File","comment":"Export the app's QVF file as a base64 encoded string.","childId":"258B2BC5-2357-449C-B9B5-C0FDE05EC4CB","inputs":[{"id":"c0930c20-8645-11eb-8c79-17357db3794c","value":"{ $.listApps.item.id }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":442,"y":164,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"c08e2d30-8645-11eb-b98e-e77d5a1bebc3"},{"id":"C6F55ACA-5160-44F0-8446-3472595AD76D","type":"VariableBlock","disabled":false,"name":"Settings","displayName":"Variable - Settings","comment":"Fill in your GitHub details.","childId":"4156984A-DD16-4778-BAF1-935F45E03BF7","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":432,"y":107,"variableGuid":"FB58BD54-002C-4432-AC5C-8F857CDC8CE8","operations":[{"id":"set_key_value","key":"41A779AF-9C3B-4FC0-989D-DEC17502D5DF","name":"Set key/values of { variable }","value":[{"key":"GitHubUser","value":"magikcypress"},{"key":"GitHubRepo","value":"QFP-Scripts-Monitoring"},{"key":"GitHubBranch","value":"main"},{"key":"app_id","value":"{ltrim: {$.listCurrentSelections.item.'$'[*].values[0].text}, '%5B%22'}"}]}]}],"variables":[{"guid":"FB58BD54-002C-4432-AC5C-8F857CDC8CE8","name":"Settings","type":"object"}]}